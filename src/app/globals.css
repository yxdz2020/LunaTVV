@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }
}

:root {
  --foreground-rgb: 255, 255, 255;
}

html,
body {
  height: 100%;
  overflow-x: hidden;
  /* é˜»æ­¢ iOS Safari æ‹‰åŠ¨å›å¼¹ */
  overscroll-behavior: none;
}

body {
  color: rgb(var(--foreground-rgb));
}

html:not(.dark) body {
  background: linear-gradient(
    180deg,
    #e6f3fb 0%,
    #eaf3f7 18%,
    #f7f7f3 38%,
    #e9ecef 60%,
    #dbe3ea 80%,
    #d3dde6 100%
  );
  background-attachment: fixed;
}

/* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(31, 41, 55, 0.1);
}

::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(107, 114, 128, 0.5);
}

/* è§†é¢‘å¡ç‰‡æ‚¬åœæ•ˆæœ */
.video-card-hover {
  transition: transform 0.3s ease;
}

.video-card-hover:hover {
  transform: scale(1.05);
}

/* æ¸å˜é®ç½© */
.gradient-overlay {
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.8) 100%
  );
}

/* éšè—ç§»åŠ¨ç«¯ï¼ˆ<768pxï¼‰å‚ç›´æ»šåŠ¨æ¡ */
@media (max-width: 767px) {
  html,
  body {
    -ms-overflow-style: none; /* IE & Edge */
    scrollbar-width: none; /* Firefox */
  }

  html::-webkit-scrollbar,
  body::-webkit-scrollbar {
    display: none; /* Chrome Safari */
  }
}

/* éšè—æ‰€æœ‰æ»šåŠ¨æ¡ï¼ˆå…¼å®¹ WebKitã€Firefoxã€IE/Edgeï¼‰- æ’é™¤ArtPlayer */
*:not(.artplayer):not(.artplayer *) {
  -ms-overflow-style: none; /* IE & Edge */
  scrollbar-width: none; /* Firefox */
}

*:not(.artplayer):not(.artplayer *)::webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* View Transitions API åŠ¨ç”» */
@keyframes slide-from-top {
  from {
    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
  }
  to {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes slide-from-bottom {
  from {
    clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
  }
  to {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.8s;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  animation-fill-mode: both;
}

/*
  åˆ‡æ¢æ—¶ï¼Œæ—§çš„è§†å›¾ä¸åº”è¯¥æœ‰åŠ¨ç”»ï¼Œå®ƒåº”è¯¥åœ¨ä¸‹é¢ï¼Œç­‰å¾…è¢«æ–°çš„è§†å›¾è¦†ç›–ã€‚
  è¿™å¯ä»¥é˜²æ­¢åœ¨åŠ¨ç”»å®Œæˆå‰ï¼Œé¡µé¢åº•éƒ¨æå‰å˜è‰²ã€‚
*/
::view-transition-old(root) {
  animation: none;
}

/* ä»æµ…è‰²åˆ°æ·±è‰²ï¼šæ–°å†…å®¹ï¼ˆæ·±è‰²ï¼‰ä»é¡¶éƒ¨æ»‘å…¥ */
html.dark::view-transition-new(root) {
  animation-name: slide-from-top;
}

/* ä»æ·±è‰²åˆ°æµ…è‰²ï¼šæ–°å†…å®¹ï¼ˆæµ…è‰²ï¼‰ä»åº•éƒ¨æ»‘å…¥ */
html:not(.dark)::view-transition-new(root) {
  animation-name: slide-from-bottom;
}

/* å¼ºåˆ¶æ’­æ”¾å™¨å†…éƒ¨çš„ video å…ƒç´ é«˜åº¦ä¸º 100%ï¼Œå¹¶ä¿æŒå†…å®¹å®Œæ•´æ˜¾ç¤º */
div[data-media-provider] video {
  height: 100%;
  object-fit: contain;
}

.art-poster {
  background-size: contain !important; /* ä½¿å›¾ç‰‡å®Œæ•´å±•ç¤º */
  background-position: center center !important; /* å±…ä¸­æ˜¾ç¤º */
  background-repeat: no-repeat !important; /* é˜²æ­¢é‡å¤ */
  background-color: #000 !important; /* å…¶ä½™åŒºåŸŸå¡«å……ä¸ºé»‘è‰² */
}

/* éšè—ç§»åŠ¨ç«¯ç«–å±æ—¶çš„ pip æŒ‰é’® */
@media (max-width: 480px) and (orientation: portrait) and (hover: none) and (pointer: coarse) {
  .art-control-pip {
    display: none !important;
  }

  .art-control-fullscreenWeb {
    display: none !important;
  }

  .art-control-volume {
    display: none !important;
  }
}

/* ğŸ¯ ç”µè„‘å°çª—å£å’Œæ‰‹æœºæ¨ªå±æ—¶éšè—pipã€ç½‘é¡µå…¨å±ï¼Œè®©çœŸå…¨å±æŒ‰é’®ä¼˜å…ˆæ˜¾ç¤º */
@media (max-width: 600px) {
  .art-control-pip {
    display: none !important;
  }

  .art-control-fullscreenWeb {
    display: none !important;
  }
}


/* ä¿®å¤éŸ³é‡æ§åˆ¶hoveråŒºåŸŸ - ç²¾ç¡®ä¼˜åŒ–ç‰ˆæœ¬ */
.art-control-volume {
  position: relative !important;
}

/* ç²¾ç¡®æ§åˆ¶éŸ³é‡æŒ‰é’®çš„hoveræ£€æµ‹åŒºåŸŸ */
.art-control-volume::before {
  content: '';
  position: absolute;
  top: -40px; /* å‡å°‘å‘ä¸Šæ‰©å±•ï¼Œåªæ‰©å±•40pxåˆ°éŸ³é‡æ»‘æ¡åŒºåŸŸ */
  left: -8px;  /* å‡å°‘å·¦å³æ‰©å±• */
  right: -8px;
  bottom: -2px; /* å‡å°‘å‘ä¸‹æ‰©å±• */
  z-index: -1;
  pointer-events: auto;
}

/* å½“é¢æ¿æœ¬èº«è¢«hoveræ—¶ä¹Ÿè¦ä¿æŒæ˜¾ç¤º */
.art-volume-panel:hover {
  opacity: 1 !important;
  transform: translateY(0) !important;
  pointer-events: auto !important;
}

/* å¼ºåŒ–åŸæœ‰çš„hoverè§„åˆ™ */
.art-control-volume:hover .art-volume-panel {
  opacity: 1 !important;
  transform: translateY(0) !important;
  pointer-events: auto !important;
  transition: all 0.1s ease !important; /* æ›´å¿«çš„å“åº” */
}

/* ä¿®å¤ç§»åŠ¨ç«¯å¼¹å¹•é¢æ¿å®šä½é—®é¢˜ - æ ¹æ®ä¸åŒæŒ‚è½½ä½ç½®å¤„ç† */
@media (max-width: 768px) {
  /* å½“å¼¹å¹•æ’ä»¶æŒ‚è½½åˆ°æ§åˆ¶æ ä¸­å¿ƒæ—¶ï¼ˆæ¨ªå±ï¼Œå®½åº¦>=512pxï¼‰ */
  .art-controls-center .artplayer-plugin-danmuku .apd-config-panel,
  .art-controls-center .artplayer-plugin-danmuku .apd-style-panel {
    position: absolute !important; /* åŠ ä¸Šè¿™ä¸ªå…³é”®å±æ€§ï¼ */
    left: 10% !important;
    transform: translateX(-50%) !important;
    right: auto !important;
    max-width: calc(100vw - 40px) !important;
  }

  /* å½“å¼¹å¹•æ’ä»¶æŒ‚è½½åˆ°æ’­æ”¾å™¨å®¹å™¨æ—¶ï¼ˆç«–å±ï¼Œå®½åº¦<512pxï¼‰ */
  .art-video-player .artplayer-plugin-danmuku .apd-config-panel,
  .art-video-player .artplayer-plugin-danmuku .apd-style-panel {
    position: absolute !important;
    left: 50% !important; /* ç«–å±æ—¶å±…ä¸­ */
    transform: translateX(-50%) !important;
    right: auto !important;
    max-width: calc(100vw - 40px) !important;
  }
}

/* å¹³æ»‘åŠ¨ç”»æ•ˆæœ */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out;
}

/* çŠ¶æ€è¿‡æ¸¡åŠ¨ç”» */
.smooth-transition {
  transition: all 0.3s ease-in-out;
}
